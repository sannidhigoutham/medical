const db= require("../db")

const signup = (data, callback)=>{
  db.query('insert into userdata set ?', data, callback);

  if(data.type=="patient"){
    db.query('insert into user', data, callback);
    }else if(data.type=="docter"){
      db.query('SELECT * FROM docteruser where name= ? and password= ?', [data.name,data.password], callback);
      }else if(data.type=="pharmacy"){
        db.query('SELECT * FROM pharmacy where name= ? and password= ?', [data.name,data.password], callback);
        }
}

const signin = (data, callback)=>{
  db.query('select * from userlogin email = ? and password = ?', [data.email,data.password], callback);
}

const homedocter = (data, callback)=>{
  db.query('select * from docteruser id = ? ', data.id, callback);
}

const homepatient = (data, callback)=>{
  db.query('select * from patientuser id = ? ', data.id, callback);
}

const homepharmacy = (data, callback)=>{
  db.query('select * from pharmacy id = ? ', data.id, callback);
}

const searchpatient = (data, callback)=>{
  db.query('select * from patientuser id = ? ', data.id, callback);
}
module.exports ={
    signup,
    signin,
    homedocter,
    homepatient,
    homepharmacy,
    searchpatient
}